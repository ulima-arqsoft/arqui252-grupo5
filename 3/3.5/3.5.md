# 3.5. Refinamiento de Escenarios

La siguiente tabla presenta los **escenarios priorizados** con su respectiva descripción técnica y operacional. Cada fila detalla la fuente del estímulo, el artefacto afectado, el entorno en el que ocurre, la respuesta esperada del sistema y las métricas de desempeño asociadas. Este nivel de especificación permite evaluar la efectividad de la arquitectura frente a situaciones críticas como seguridad, rendimiento, interoperabilidad y mantenibilidad, asegurando que cada escenario tenga una medición clara y verificable.

| ID Escenario | Fuente Estímulo | Estímulo | Artefacto | Entorno | Respuesta | Medida de Respuesta | Comentario |
|---------------|-----------------|-----------|------------|-----------|------------|----------------------|-------------|
| **ESC-01** | Usuario concurrente | El usuario genera o solicita una playlist desde una selfie en hora pico. | Generación de Playlist | Carga alta (≥500 usuarios simultáneos) | Procesa la emoción y genera playlist sin errores. | Tiempo de respuesta < 5 s y sin caída del servicio. | El QA y backend deben optimizar rendimiento en escenarios pico. |
| **ESC-04** | CTO / Arquitecto | Se requiere actualizar el modelo de IA de detección emocional. | Generación de Playlist | Entorno de despliegue continuo | Sustituye modelo sin afectar otros módulos. | Despliegue exitoso sin downtime > 1 min. | El CTO debe garantizar arquitectura desacoplada y mantenible. |
| **ESC-05** | Backend | Transmisión de emoción al motor de recomendación. | Generación de Playlist | Integración activa (API interna) | Emoción enviada correctamente al motor. | Tasa de error < 1 % en llamadas API. | El backend debe asegurar interoperabilidad entre IA y playlist. |
| **ESC-06** | Usuario no autenticado | Intento de acceso no autorizado. | Autenticación y Usuarios | Entorno de login | Bloquea acceso y muestra alerta segura. | 100 % de intentos detectados y bloqueados. | El CTO y QA deben reforzar políticas de seguridad. |
| **ESC-07** | Usuario | Inicia sesión con cuenta social (Google/Spotify). | Autenticación y Usuarios | Conectividad estable | Autenticación completada y perfil cargado. | Tasa de éxito ≥ 99 % por proveedor. | El diseñador UX/UI debe garantizar flujo intuitivo y sin fricción. |
| **ESC-08** | Usuario registrado | Solicita recuperación de contraseña. | Autenticación y Usuarios | Entorno web o móvil | Envío seguro de link de recuperación. | Link válido ≤ 1 min de retraso y caducidad en 10 min. | Soporte y mobile deben mantener confiabilidad del proceso. |
| **ESC-10** | Usuario premium | Ingreso de datos de pago para suscripción. | Gestión de Planes y Suscripciones | Entorno de transacción segura | Datos cifrados en tránsito y reposo. | Cumplimiento PCI-DSS y 0 filtraciones. | El CTO y DBA deben garantizar seguridad y tokenización. |
| **ESC-11** | Usuario premium | Consulta historial de pagos o estado de suscripción. | Gestión de Planes y Suscripciones | Sesión iniciada | Muestra información precisa y legible. | Respuesta < 2 s y 0 errores en carga de datos. | El diseñador UX/UI debe mantener transparencia en la interfaz. |
| **ESC-12** | Usuario afectado | Reporta cobro duplicado o error de facturación. | Gestión de Planes y Suscripciones | Entorno de soporte | Soporte accede a logs y corrige transacción. | Tiempo de resolución < 24 h. | Soporte técnico necesita trazas claras y seguras. |
| **ESC-17** | Usuario multi-dispositivo | Modifica datos desde distintos dispositivos. | Gestión de Preferencias de Usuario | Sincronización concurrente | Sistema resuelve conflicto y mantiene coherencia. | 0 inconsistencias en registros. | El analista de negocio y backend garantizan sincronización coherente. |
| **ESC-18** | Sistema | Registro de cambios o acciones críticas. | Gestión de Preferencias de Usuario | Operación normal | Genera logs inmutables con usuario y fecha. | 100 % eventos críticos trazados. | El DBA debe mantener trazabilidad segura y auditable. |
| **ESC-19** | Usuario gratuito | Intenta acceder a función premium. | Gestión de Preferencias de Usuario | Sesión activa | Bloquea acción y sugiere upgrade. | Respuesta < 1 s y mensaje amigable. | Marketing digital debe manejar upsell sin interrumpir experiencia. |
| **ESC-21** | API externa (Spotify) | Falla o pérdida de conexión durante sincronización. | Integración con Plataformas Externas | Red inestable | Reintento automático y reanudación. | Recuperación exitosa en ≤ 3 intentos. | Backend y mobile deben mantener confiabilidad ante fallos. |
| **ESC-22** | Atacante externo | Intercepta token OAuth o manipula autenticación. | Integración con Plataformas Externas | Entorno de autenticación | Comunicación cifrada y verificación de firma. | 0 tokens reutilizados o alterados. | CTO y backend deben cumplir protocolo OAuth 2 con certificados válidos. |
| **ESC-24** | Sistema de monitoreo | Detecta falla de sincronización con Spotify. | Integración con Plataformas Externas | Ejecución normal | Genera alerta y log estructurado. | Alerta enviada en ≤ 30 s. | Soporte y analista de datos deben mantener visibilidad total del sistema. |
