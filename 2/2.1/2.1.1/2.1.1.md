# 2.1.1. MÃ³dulo 1

## GeneraciÃ³n de Playlist / Crisbeth Sovero

### ğŸ¯ Alcance
Detectar emociÃ³n (selfie o selecciÃ³n manual), mapearla a parÃ¡metros musicales y generar una playlist personalizada; guardar el resultado y permitir compartir.

### ğŸŒ€ Supuestos
La 1ra versiÃ³n usa Spotify como proveedor principal.

El modelo de emociÃ³n trabaja on-device o en backend y devuelve una de las clases: feliz, triste, calmado, enÃ©rgico, melancÃ³lico, ansioso, neutro (ajustable).

### ğŸ¤– Requisitos Funcionales

#### RF-PL-01 Ingesta de selfie
El sistema permite tomar/cargar selfie y obtiene la emociÃ³n principal.

- **AceptaciÃ³n**: dado que el usuario autoriza cÃ¡mara/galerÃ­a, cuando captura/carga una imagen vÃ¡lida, entonces el sistema devuelve una emociÃ³n en <2s (p75) y muestra etiqueta + confianza.

---

#### RF-PL-02 SelecciÃ³n manual de emociÃ³n
El usuario puede elegir su estado de Ã¡nimo desde un selector.

- **AceptaciÃ³n**: al elegir una emociÃ³n, el sistema salta el anÃ¡lisis de imagen y continÃºa al mapeo musical.

---

#### RF-PL-03 NormalizaciÃ³n de emociÃ³n
El sistema traduce la emociÃ³n a parÃ¡metros musicales (tempo, energy, valence, danceability, acousticness).

- **AceptaciÃ³n**: dado feliz, entonces valence â‰¥ 0.7, energy â‰¥ 0.6 (rango configurable).

---

#### RF-PL-04 Reglas por preferencia
El sistema aplica filtros por gÃ©neros favoritos, idioma, dÃ©cada, duraciÃ³n objetivo.

- **AceptaciÃ³n**: si el usuario fijÃ³ 30 min y rock/indie, la lista resultante cumple duraciÃ³n Â±10% y â‰¥80% de tracks en esos gÃ©neros.

---

#### RF-PL-05 Semilla hÃ­brida
GeneraciÃ³n usa mezcla de: emociÃ³n â†’ features + top artists/genres del usuario (si autorizÃ³ Spotify) + pistas trending del paÃ­s.

- **AceptaciÃ³n**: la playlist contiene â‰¥60% recomendaciones basadas en features y â‰¥20% basadas en historial si existe.

---

#### RF-PL-06 Pre-escucha y ediciÃ³n rÃ¡pida
Antes de guardar, el usuario puede reproducir 30s y sustituir una pista por otra sugerida.

- **AceptaciÃ³n**: al pulsar â€œCambiarâ€, el sistema ofrece â‰¥5 alternativas compatibles.

---

#### RF-PL-07 Guardado y versionado
Cada generaciÃ³n crea un snapshot con emociÃ³n, hora, parÃ¡metros y seed tracks.

- **AceptaciÃ³n**: la playlist queda guardada en el historial con ID Ãºnico y exportable a Spotify.

---

#### RF-PL-08 Re-generaciÃ³n inteligente
BotÃ³n â€œRe-intentarâ€ recalcula con variaciÃ³n de semillas Â±15% para diversificar.

- **AceptaciÃ³n**: â‰¥70% de las pistas cambian respecto a la versiÃ³n previa.

---

#### RF-PL-09 Compartir social
Genera cover (arte + emociÃ³n + cÃ³digo QR/Deep Link) y texto pre-armado.

- **AceptaciÃ³n**: compartir disponible para IG Stories, TikTok, X, WhatsApp.

---

#### RF-PL-10 Manejo de errores
Si falla la detecciÃ³n, el flujo ofrece selecciÃ³n manual sin perder el progreso.

- **AceptaciÃ³n**: el usuario siempre puede completar la generaciÃ³n.

---

#### RF-PL-11 LÃ­mite por plan
Free: hasta 2 playlists/dÃ­a; Premium: ilimitado.

- **AceptaciÃ³n**: al exceder cuota, se muestra CTA a upgrade.

---

#### RF-PL-12 TelemetrÃ­a Ã©tica
Se registra (anonimizado): emociÃ³n, duraciÃ³n, skips, completion rate.

- **AceptaciÃ³n**: datos se asocian a un session_id no sensible.

---

#### RF-PL-13 Multimodal visual
UI cambia fondo/animaciÃ³n segÃºn emociÃ³n (experiencia audiovisual).

- **AceptaciÃ³n**: cada emociÃ³n tiene un tema visual asignado.

---

#### RF-PL-14 Seed local
Considera mood + contexto horario (maÃ±ana/tarde/noche) y clima (futuro) para ajustar tempo/energy.

- **AceptaciÃ³n**: por la noche, energÃ­a base -10% salvo â€œfiesta/energÃ©ticoâ€.