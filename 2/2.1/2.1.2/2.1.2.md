# 2.1.2. M√≥dulo 2

## Autenticaci√≥n y Usuarios / Pedro Morales

### üéØ Alcance
Registro/login, perfiles, diario cronol√≥gico de playlists y salvaguardas de seguridad/privacidad.

### üåÄ Supuestos
- OAuth con Spotify ser√° el m√©todo recomendado para exportar playlists, pero no obligatorio para usar la app.
- Los consentimientos (c√°mara, anal√≠tica, marketing) se versionan.

### ü§ñ Requisitos Funcionales

#### RF-AU-01 Registro con email + contrase√±a
Formulario de alta con validaci√≥n de contrase√±a fuerte y verificaci√≥n por correo.  

- **Aceptaci√≥n:** al registrar con contrase√±a ‚â•8 chars (1 may√∫scula, 1 n√∫mero), se env√≠a email con token v√°lido 15 min; al confirmar, la cuenta pasa a estado activo.

---

#### RF-AU-02 Inicio de sesi√≥n social
Login con Spotify, Google y Apple. 

- **Aceptaci√≥n:** al autorizar, se crea/une perfil y se retorna a la app logueado con sesi√≥n v√°lida (‚â•30 d√≠as con refresh).

---

#### RF-AU-03 Recuperaci√≥n de cuenta
Flujo ‚ÄúOlvid√© mi contrase√±a‚Äù.  

- **Aceptaci√≥n:** al ingresar email v√°lido, se env√≠a enlace de reset con token 15 min; al usarlo, se exige nueva contrase√±a.

---

#### RF-AU-04 Perfil de usuario
Edici√≥n de alias, foto, pa√≠s, idioma, visibilidad social.  

- **Aceptaci√≥n:** cambios persisten y reflejan en todos los dispositivos en <2 s (p75).

---

#### RF-AU-05 Diario y l√≠nea de tiempo
Listado cronol√≥gico de generaciones con fecha, emoci√≥n, playlist, duraci√≥n y feedback (üëç/üëé).  

- **Aceptaci√≥n:** permite filtrar por emoci√≥n y rango de fechas; al tap en un √≠tem, abre el detalle.

---

#### RF-AU-06 Panel de privacidad
Toggles para historial privado y participaci√≥n en ranking/feeds.  

- **Aceptaci√≥n:** si historial privado = ON, no se expone en secciones sociales.

---

#### RF-AU-07 Gesti√≥n de sesiones
Listado de dispositivos activos y cierre remoto.  

- **Aceptaci√≥n:** al cerrar todas, invalida refresh tokens excepto el actual.

---

#### RF-AU-08 Consentimientos informados
Captura granular y registro de versiones.  

- **Aceptaci√≥n:** el usuario puede revocar/otorgar; cambios quedan auditados.

---

#### RF-AU-09 Exportaci√≥n de datos
Descarga del historial en JSON/CSV (prioridad Premium).  

- **Aceptaci√≥n:** archivo incluye playlists, emociones, timestamps y par√°metros.

---

#### RF-AU-10 Eliminaci√≥n de cuenta
Soft-delete 30 d√≠as, luego hard-delete.  

- **Aceptaci√≥n:** durante 30 d√≠as, el usuario puede reactivar; luego se purga.

---

#### RF-AU-11 Seguridad de acceso
Rate limiting, detecci√≥n de brute force, 2FA opcional.  

- **Aceptaci√≥n:** tras 5 intentos fallidos, bloqueo 15 min; con 2FA, se requiere c√≥digo v√°lido.

---

#### RF-AU-12 Notificaciones
Push/email para ‚Äúmood del d√≠a‚Äù, ‚Äúnueva funci√≥n‚Äù, ‚Äúplaylist semanal‚Äù.  

- **Aceptaci√≥n:** usuario puede suscribirse/desuscribirse por tipo.

---

#### RF-AU-13 Accesibilidad
Formularios/timeline cumplen WCAG AA m√≠nimo.  

- **Aceptaci√≥n:** navegaci√≥n por teclado y soporte lector de pantalla en elementos cr√≠ticos.

## Flujo de pantalla relacionado