# 2.2.2. Módulo 2

## Autenticación y Usuarios / Pedro Morales

### 🎯 Contexto

Los Atributos de Calidad deben abordar aspectos como seguridad, usabilidad, confiabilidad, eficiencia, y rendimiento. Estos escenarios están diseñados para evaluar la robustez de la funcionalidad de la autenticación y el manejo de usuarios, y asegurar que la aplicación cumpla con los estándares esperados de experiencia de usuario y seguridad. 

Por ello, se plantearon un total de 9 escenarios: *Seguridad en el Registro de Usuario*, *Autenticación a través de Redes Sociales*, *Recuperación de Contraseña*, *Seguridad de Sesión*, *Gestión de Dispositivos y Cierre de Sesión*, *Notificaciones de Seguridad*, *Acceso a Preferencias y Configuración de Privacidad*, *Tiempos de Respuesta en Inicio de Sesión* y *Manejo de Errores y Mensajes de Feedback*

### 🌀 Escenarios

**ESCENARIO 1: Seguridad en el Registro de Usuario**

**Atributo de Calidad:** Seguridad y Fiabilidad

**Condición Inicial:** Un nuevo usuario intenta registrarse con un correo y una contraseña.

**Acción**:
1. El sistema solicita la creación de una contraseña con una longitud mínima de 8 caracteres, con al menos una letra mayúscula, un número y un carácter especial.
2. El sistema valida que los datos sean correctos, y envía un correo de verificación al usuario.
3. El usuario debe hacer clic en el enlace de verificación dentro de los 15 minutos siguientes.

**Resultado Esperado**:
- El sistema debe bloquear la creación de cuentas con contraseñas débiles o inválidas.
- El correo de verificación debe enviarse correctamente en <1 minuto.
- Si el usuario no verifica dentro del tiempo, se muestra un mensaje indicando que el enlace ha caducado.

---
---

**ESCENARIO 2: Autenticación a través de Redes Sociales**

**Atributo de Calidad:** Usabilidad y Seguridad

**Condición Inicial:** El usuario opta por usar un inicio de sesión social (Spotify, Google, Apple).

**Acción**:
1. El usuario hace clic en el botón de inicio de sesión con una plataforma social.
2. El sistema redirige al usuario al proveedor de la plataforma social (ej. Google).
3. El usuario otorga los permisos requeridos por la aplicación (acceso al perfil).
4. El sistema autentica al usuario y lo redirige de vuelta a la aplicación.

**Resultado Esperado**:
- El inicio de sesión debe ser fluido, sin errores de autorización.
- El usuario debe ser autenticado correctamente y redirigido a su página de inicio.
- Si la autenticación falla, se muestra un mensaje claro y el sistema permite reintentar el proceso.

---
---

**ESCENARIO 3: Recuperación de Contraseña**

**Atributo de Calidad:** Confiabilidad y Usabilidad

**Condición Inicial:** El usuario ha olvidado su contraseña y quiere recuperarla.

**Acción**:
1. El usuario hace clic en "Olvidé mi contraseña" en la pantalla de inicio de sesión.
2. El sistema solicita al usuario ingresar su correo electrónico.
3. El sistema envía un correo con un enlace para restablecer la contraseña (con expiración de 15 minutos).
4. El usuario hace clic en el enlace y crea una nueva contraseña.

**Resultado Esperado**:
- El correo con el enlace de restablecimiento debe enviarse en menos de 1 minuto.
- El enlace debe ser válido por 15 minutos, y si se excede este tiempo, el usuario debe recibir un mensaje claro.
- Al restablecer la contraseña, el sistema confirma que la contraseña ha sido actualizada correctamente.

---
---

**ESCENARIO 4: Seguridad de Sesión**

**Atributo de Calidad:** Seguridad y Confiabilidad

**Condición Inicial:** El usuario inicia sesión correctamente en la aplicación.

**Acción**:
1. El usuario mantiene la sesión abierta por más de 30 minutos.
2. Después de 30 minutos de inactividad, el sistema solicita al usuario que inicie sesión nuevamente.

**Resultado Esperado**:
- Después de 30 minutos de inactividad, la sesión debe expirar automáticamente y solicitar reautenticación.
- No se deben almacenar datos sensibles en el dispositivo sin cifrado.
- El usuario debe ser desconectado si se detectan múltiples intentos fallidos de inicio de sesión.

---
---

**ESCENARIO 5: Gestión de Dispositivos y Cierre de Sesión**

**Atributo de Calidad:** Usabilidad y Seguridad

**Condición Inicial:** El usuario tiene varias sesiones activas en diferentes dispositivos.

**Acción**:
1. El usuario accede a la configuración de su cuenta desde la aplicación.
2. Desde la sección de "Gestión de dispositivos", el usuario elige cerrar sesión en uno o más dispositivos.

**Resultado Esperado**:
- El sistema debe cerrar las sesiones en los dispositivos seleccionados de manera rápida y confiable.
- Si el usuario cierra sesión en todos los dispositivos, debe desconectar todas las sesiones sin errores.
- El usuario debe ser notificado de que las sesiones han sido cerradas exitosamente.

---
---

**ESCENARIO 6: Notificaciones de Seguridad**

**Atributo de Calidad:** Seguridad y Fiabilidad

**Condición Inicial:** El usuario ha habilitado la autenticación de dos factores (2FA).

**Acción**:
1. El sistema envía un código de autenticación al teléfono del usuario (SMS/Autenticador).
2. El usuario debe ingresar el código en la aplicación dentro de 5 minutos.

**Resultado Esperado**:
- El código de autenticación debe enviarse dentro de 1 minuto.
- El código debe ser válido solo por 5 minutos.
- Si el usuario no ingresa el código correctamente, el sistema debe bloquear temporalmente la solicitud durante 5 minutos.

---
---

**ESCENARIO 7: Acceso a Preferencias y Configuración de Privacidad**

**Atributo de Calidad:** Usabilidad y Control

**Condición Inicial:** El usuario desea modificar sus preferencias de privacidad o configuración de visibilidad.

**Acción**:
1. El usuario navega a la sección de privacidad dentro de su perfil.
2. El usuario puede activar o desactivar la visibilidad de sus playlists o su historial de actividad.

**Resultado Esperado**:
- El usuario debe poder cambiar sus configuraciones de privacidad de manera intuitiva.
- Los cambios deben reflejarse en tiempo real en la app sin errores.

---
---

**ESCENARIO 8: Tiempos de Respuesta en Inicio de Sesión**

**Atributo de Calidad:** Rendimiento y Eficiencia

**Condición Inicial:** El usuario intenta iniciar sesión utilizando su email y contraseña.

**Acción**:
1. El sistema debe validar las credenciales de manera eficiente.
2. El sistema debe proporcionar acceso o mostrar un error si las credenciales son incorrectas.

**Resultado Esperado**:
- El tiempo de respuesta para la validación de credenciales debe ser <2 segundos.
- Si las credenciales son incorrectas, el sistema debe mostrar un mensaje claro y permitir reintentar sin retraso.

---
---

**ESCENARIO 9: Manejo de Errores y Mensajes de Feedback**

**Atributo de Calidad:** Usabilidad y Fiabilidad

**Condición Inicial:** Un usuario ingresa datos incorrectos al registrarse o iniciar sesión.

**Acción**:
1. El sistema debe mostrar un mensaje claro que explique el error.
2. El sistema debe permitir al usuario corregir el error sin perder el progreso.

**Resultado Esperado**:
- Los mensajes de error deben ser informativos y ofrecer soluciones claras.
- Los errores no deben bloquear el acceso al sistema; el usuario debe poder corregir los errores sin reiniciar el proceso completo.