> [9. Metodolog√≠a de Dise√±o de Arquitectura - Aplicaci√≥n de ADD](../../9.md) ‚Ä∫ [9.4. Iteraci√≥n 3: Refinar estructuras para abordar el atributo de calidad m√°s importante](../9.4.md) ‚Ä∫ [9.4.4. Elementos instanciados](9.4.4.md)

# 9.4.4. Elementos instanciados

## Componentes de Consistencia y Seguridad

En esta iteraci√≥n se instancian los componentes que abordan la **Consistencia** (CRN02) y la **Seguridad Transaccional** (ESC-10), implementando **Suscripciones, Historial y la l√≥gica de Pol√≠ticas**.

| C√≥digo     | Elemento Instanciado                          | Responsabilidad Principal                                                                                       |
|------------|-----------------------------------------------|---------------------------------------------------------------------------------------------------------------|
| DEC-I3-05  | Subscription-Service (Microservicio Node.js) | Maneja CU-SB-01 y CU-SB-02 (Cat√°logo de planes/Checkout). Contiene la API de **Enforcements** que aplica las pol√≠ticas de l√≠mite de uso (CU-SB-10). |
| DEC-I3-06  | Journal-Service (Microservicio Node.js)      | Implementa el patr√≥n **Event Sourcing**. Consume el evento `Playlist_Created` de RabbitMQ y almacena el snapshot inmutable para el Diario y la L√≠nea de Tiempo (CU-AU-05, CRN02). |
| DEC-I3-07  | Pasarela de Pago Externa (Stripe/Adyen)      | Maneja la transacci√≥n de pago de forma segura (CU-SB-02), garantizando el cumplimiento de PCI-DSS (ESC-10) sin almacenar datos sensibles. |
| DEC-I3-08  | Refinamiento de API Gateway                   | Se extiende su funcionalidad para consultar el **Subscription-Service** (API de Enforcement) antes de permitir al usuario ejecutar acciones limitadas por el plan. |
| DEC-I3-09  | Base de Datos PostgreSQL (Journal Schema)    | Almacena los registros inmutables del **Journal-Service**, utilizando **JSONB** para los snapshots de la playlist, ideal para la consistencia y consulta hist√≥rica. |
| DEC-I3-10  | Extensiones de Trazabilidad (Logs Estructurados) | Asegura que todos los microservicios generen **logs uniformes y audibles** para telemetr√≠a √©tica y trazabilidad (ESC-18). |


---

[‚¨ÖÔ∏è Anterior](../9.4.3/9.4.3.md) | [üè† Home](../../../README.md) | [Siguiente ‚û°Ô∏è](../9.4.5/9.4.5.md)