> [9. Metodolog√≠a de Dise√±o de Arquitectura - Aplicaci√≥n de ADD](../../9.md) ‚Ä∫ [9.3. Iteraci√≥n 2: Identificar estructuras para soportar la funcionalidad primaria](../9.3.md) ‚Ä∫ [9.3.2. Elementos a refinar](9.3.2.md)

# 9.3.2. Elementos a Refinar

El elemento principal a refinar es el **Pipeline de Generaci√≥n de Playlist**, que ahora incluye los componentes de **Inteligencia Artificial** (detecci√≥n de emoci√≥n) y el **Algoritmo de Recomendaci√≥n**.

## Enfoque de Refinamiento: Desacoplamiento As√≠ncrono

Dado que el procesamiento de la IA puede ser intensivo y variar en tiempo de respuesta (**CRN01**), implementaremos la comunicaci√≥n entre el **Emotion-Service** y el **Playlist-Engine** de forma **as√≠ncrona** utilizando un **Bus de Mensajes** (como RabbitMQ o Kafka).

### Flujo S√≠ncrono (Fast Path)

- El cliente (Flutter) llama al **API Gateway**.
- El API Gateway llama al **Emotion-Service**.

### Flujo As√≠ncrono (Heavy Processing)

- El **Emotion-Service** publica el resultado (por ejemplo: `"Felicidad"`, `"Tristeza"`) a una **cola**.
- El **Playlist-Engine** consume ese evento para iniciar el **procesamiento intensivo** sin bloquear al cliente.

### Patr√≥n de Comunicaci√≥n

- Se emplear√° el patr√≥n **Publicar/Suscribir**.
- La salida de la IA servir√° como **input para el motor**, asegurando la **escalabilidad y disponibilidad** (**CRN04**).

---

[‚¨ÖÔ∏è Anterior](../9.3.1/9.3.1.md) | [üè† Home](../../../README.md) | [Siguiente ‚û°Ô∏è](../9.3.3/9.3.3.md)